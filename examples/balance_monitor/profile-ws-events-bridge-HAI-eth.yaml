- name: BalanceMonitor
  type: processes.BalanceMonitor
  description: >
    HAI Bridge Balance Monitor (Ethereum)
  parameters:
    chain_id: 1
    network: ethereum
    rpc: {{ env['ETH_RPC_URL'] }}
    native: ETH
    balance_threshold: 100000000000000000
    decimals: 18
    severity: 0.5
    erc20_addr: '0x05Fb86775Fd5c16290f1E838F5caaa7342bD9a63'
    erc20_balance_threshold: 300000000000
    erc20_decimals: 8

  inputs:
  - name: transactions
    type: sentinel.channels.kafka.transactions.InboundTransactionsChannel
    parameters:
      bootstrap_servers: {{ env['KAFKA_BOOTSTRAP_SERVERS'] }}
      group_id: sentinel-public.transactions
      auto_offset_reset: latest
      topics: 
      - {{ env['KAFKA_INBOUND_TX_TOPIC_ETH'] }}

  outputs:
  - name: events
    type: sentinel.channels.kafka.events.OutboundEventsChannel
    parameters:
      bootstrap_servers: {{ env['KAFKA_BOOTSTRAP_SERVERS'] }}
      topics: 
      - {{ env['KAFKA_OUTBOUND_EVENT_TOPIC']}}

  databases:
  - name: address
    type: sentinel.db.address.local.AddressDB
    description: >
      Monitored Addresses
    parameters:
      path: ./data/address-bridge-HAI-eth.list 
